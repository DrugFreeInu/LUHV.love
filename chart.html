<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>LUHV Live Chart</title>
<style>
html,body{
  margin:0;
  height:100%;
  background:transparent;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
}
canvas{
  width:100%;
  height:100%;
}
</style>
</head>
<body>
<canvas id="chart"></canvas>

<script>
const canvas = document.getElementById("chart");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hearts = [];
let points = [];
let t = 0;
let price = 100; // base LUHV value

// Heart template
function drawHeart(x,y,size,alpha){
  ctx.save();
  ctx.translate(x,y);
  ctx.scale(size,size);
  ctx.beginPath();
  ctx.moveTo(0,0);
  ctx.bezierCurveTo(-0.5,-0.5,-1,0.3,0,1);
  ctx.bezierCurveTo(1,0.3,0.5,-0.5,0,0);
  ctx.fillStyle = `rgba(255,105,180,${alpha})`;
  ctx.fill();
  ctx.restore();
}

// Generate new heart
function spawnHeart(){
  const x = canvas.width - 60;
  const y = canvas.height - (price/2);
  hearts.push({x,y,alpha:1,size:5,vy:-1-Math.random()*1});
}

// Simulate new LUHV hit (price only goes up)
function updatePrice(){
  const step = Math.random() * 2; // always positive
  price += step;
  if (price > canvas.height*0.8) price = 100; // wrap to keep visible
  points.push(price);
  if (points.length > 200) points.shift();
  spawnHeart();
}

function drawChartLine(){
  ctx.beginPath();
  ctx.moveTo(0, canvas.height - points[0]);
  for(let i=1;i<points.length;i++){
    const x = (i/200)*canvas.width;
    const y = canvas.height - points[i];
    ctx.lineTo(x,y);
  }
  ctx.strokeStyle="#ff1493";
  ctx.lineWidth=2;
  ctx.stroke();
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // chart line
  drawChartLine();

  // hearts
  for (let i=hearts.length-1;i>=0;i--){
    const h = hearts[i];
    h.y += h.vy;
    h.alpha -= 0.01;
    drawHeart(h.x,h.y,h.size/6,h.alpha);
    if (h.alpha <= 0) hearts.splice(i,1);
  }

  // occasional new LUHV hit
  if (t % 20 === 0) updatePrice();
  
  t++;
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize',()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
